homework-04

1+. Добавить Graceful Shutdown для сервера в случае непредвиденных ошибок.

2. Создать эндпоинт для загрузки CSV в архиве (*.csv.gzip).
При отправке файла он должен одновременно (в потоке) распаковываться,
превращаться в JSON и сохраняться в папку /uploads. Имя файла должно быть
уникальным, поэтому для генерации уникального имени можно придумать свой алгоритм
или воспользоваться сторонними модулями: nanoid, uuid. Формат сохраняемого JSON
файла должен быть единым (таким же как результат функции taks3).

3. Создать эндпоинт который выведет список всех файлов из папки /uploads

4. Создать эндпоинт который запускает оптимизацию JSON файла. Имя файла для оптимизации передавать
как часть пути эндпоинта (напр.: POST /uploads/optimize/a1b2-f0d2-3418.json).
В конвертированном CSV много продуктов у которых повторяются type, price, color. Необходимо
сложить quantity для всех таких продуктов и оставить только одну запись с общим количеством.
(должно получиться 4800 уникальных товаров для большого файла. В среднем quantity должно
получиться от 19 000 до 22 000, для каждого товара). Этот эндпоинт должен возвращать
статус 202 и выполнять оптимизацию в фоне. В консоль должно выводиться сообщение
о успешном окончании оптимизации включая общее количество всех товаров (сумму всех quantity).

! Все операции должны быть неблокирующими. Сервер должен обрабатывать другие запросы
 в любой момент времени, даже если в данный момент он загружает или оптимизирует огромный файл.

5. (Опционально) * Создать автоматическую оптимизацию, которая будет постоянно
запускаться через определённый промежуток времени. Например через каждые 10 минут.
Время должно быть задано переменной в конфигурации, через .env (переменной окружения).

6. (Опционально) * Оптимизированные файлы перекладывать в отдельную папку, напр. /uploads/optimized

7. (Опционально) * Добавить оптимизированные файлы к эндпоинту который выводит
список всех файлов. При выводе списка разделить его на две категории, а также добавить
в список время создания и размер каждого файла.
